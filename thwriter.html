<!DOCTYPE HTML>
<html lang = "th-TH">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô ‡∏Å ‡∏Ç</title>
<style>
* {
  box-sizing: border-box;
}
button {
  background-color: bisque;
  height: 40px;
  width: 40px;
  padding: 2px 2px;
  text-align: center;
  display: inline-block;
  font-size: 24px;
  margin: 2px 2px;
  cursor: pointer;
  border-radius: 35%;  
}
#div1 {
  float: left;
  width: 95%;
  height: 160px;
  margin: 5px;
  padding: 1px;
  border: 5px solid gray;
  /* font-family: "Purisa Bold"; */
    font-size: 32px;
}
#div2 {
  float: left;
  width: 95%;
  height:72px;
  margin: 5px;
  padding: 1px;
  border: 5px solid green;
  font-size: 32px;
  /* background-color: cream; */
}
#div3 {
  float: left;
  width: 95%;
  height:300px;
  margin: 10px;
  padding: 1px;
  border: 5px solid lime;
  font-size: 24px ;
  /* bacbground-color: yellow; */
}
span {overflow-wrap: break-word}
span:hover {
    background: bisque ;   
}
</style>
<script>
function allowDrop(ev) {
  ev.preventDefault();
}

function drag(ev) {
  ev.dataTransfer.setData("text", ev.target.id);
}

function drop(ev) {
  ev.preventDefault();
  var pick = ev.dataTransfer.getData("text");
  ev.target.appendChild(document.getElementById(pick));
}

const snd = document.createElement("audio");
function say(sx){
  var sfx = "audio/"+ sx + ".mp3";
  snd.setAttribute('src', sfx);
  snd.play();
  snd.currentTime=0;
}

function cast(){
  const conso = "‡∏Å‡∏à‡∏é‡∏è‡∏î‡∏ï‡∏ö‡∏õ‡∏≠‡∏Ñ‡∏Ö‡∏Ü‡∏á‡∏ä‡∏ã‡∏å‡∏ç‡∏ë‡∏í‡∏ì‡∏ó‡∏ò‡∏ô‡∏û‡∏ü‡∏†‡∏°‡∏¢‡∏£‡∏•‡∏ß‡∏¨‡∏Æ‡∏Ç‡∏É‡∏â‡∏ê‡∏ñ‡∏ú‡∏ù‡∏®‡∏©‡∏™‡∏´"; //blue 
  const cht4 = "‡∏Ç‡∏É‡∏â‡∏ê‡∏ñ‡∏ú‡∏ù‡∏®‡∏©‡∏™‡∏´"; //head high 11
  const cht0 = "‡∏Å‡∏à‡∏é‡∏è‡∏î‡∏ï‡∏ö‡∏õ‡∏≠"; //head norm 9
  const cht1 = "‡∏Ñ‡∏Ö‡∏Ü‡∏á‡∏ä‡∏ã‡∏å‡∏ç‡∏ë‡∏í‡∏ì‡∏ó‡∏ò‡∏ô‡∏û‡∏ü‡∏†‡∏°‡∏¢‡∏£‡∏•‡∏ß‡∏¨‡∏Æ"; //head low 24
  const cde  = "‡∏Ç‡∏É‡∏â‡∏ê‡∏ñ‡∏ú‡∏ù‡∏®‡∏©‡∏™‡∏Å‡∏à‡∏é‡∏è‡∏î‡∏ï‡∏ö‡∏õ‡∏Ñ‡∏Ö‡∏Ü‡∏ë‡∏í‡∏ó‡∏ò‡∏û‡∏ü‡∏†‡∏Æ"; //dead end
  const cle  = "‡∏ç‡∏ì‡∏ô‡∏°‡∏¢‡∏£‡∏•‡∏ß‡∏¨‡∏≠"; //live end
  const cc2  = "‡∏õ‡∏£ ‡∏û‡∏£ ‡∏ï‡∏£ ‡∏Å‡∏£ ‡∏Ñ‡∏£ ‡∏õ‡∏• ‡∏û‡∏• ‡∏ó‡∏£ ‡∏Å‡∏• ‡∏Ñ‡∏• ‡∏Å‡∏ß ‡∏Ñ‡∏ß ‡∏Ç‡∏ß ‡∏ö‡∏£ ‡∏ö‡∏• ‡∏ü‡∏£ ‡∏ü‡∏• ‡∏î‡∏£" //compounds
  const vowel = "\‡∏∞\‡∏≤\‡∏¥\‡∏µ\‡∏∂\‡∏∑\‡∏∏\‡∏π\‡πÄ\‡πÅ\‡πÇ\‡∏≠\‡πÑ\‡πÉ\‡∏±\‡πá\‡∏≥\‡∏±"; //red 
  const tones = "\‡πà\‡πâ\‡πä\‡πã"; //maroon
  const numer = "‡πê‡πë‡πí‡πì‡πî‡πï‡πñ‡πó‡πò‡πô.0123456789"; //indigo others are gray
  // consonant: blue, vowel: orange, toner: brown
  let ofx = genc(conso, '#0000ff', 6) + "<br> " +
            genc(vowel, '#ff6e00', 4) + " " +
            genc(tones, '#a52a2a', 3); 
     	
  document.getElementById("div1").innerHTML = ofx;
}

function genc(ls, col, n){
  const lsa = ls.match(/\S/g);
  lsa.sort(function(){return 0.5 - Math.random()});
    
  var xt = "";
  var nb = ""; 
  for (let i = 0; i < n; i++) {
    x = lsa[i];
    xt += "&nbsp<span draggable='true' ondragstart='drag(event)' id='o" + x +
          "' style='color: " + col + "' onclick='say(\"v" + x + 
          "\")' > " + x + "</span>&nbsp";
  }
  return xt;
}

let n = 0;
function check() {
// if word valid cut the word in div2 and paste after content in div3
  let w = document.getElementById("div2").innerText ;
  // strip off blanks, check ...and restyle
  if (w == "") return;
  let wk = w.replace(/\s/g, "");
  if (wk == "") return;
  n +=1;
  let nth = "<span style='font-size: 12px'>"+ n +".</span>";
  if (n > 30) {
    nth = "<span style='font-size: 16px; color: purple;'>"+ n +".</span>";
    document.getElementById("div3").style.border="10px dashed purple";
  } else 
  if (n > 20) {
    nth = "<span style='font-size: 16px; color: blue;'>"+ n +".</span>";
    document.getElementById("div3").style.border="5px dotted red";
  } else
  if (n > 10) { // splash and sing
    nth = "<span style='font-size: 14px; color: lime;'>"+ n +".</span>";
    document.getElementById("div3").style.border="5px dotted orange";
  }
  

  document.getElementById("div3").innerHTML += nth + " <b>" + wk +" </b>";
  // copy word to cast/div1; clear word/div2
  document.getElementById("div1").innerHTML += document.getElementById("div2").innerHTML ;
  document.getElementById("div2").innerHTML = "";    
}
</script>
</head>
<body>
  <h1 style="text-align:center;">‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô ‡∏Å ‡∏Ç</h2>
<div>
<button id="cast" onclick="cast()" title="‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô ‡∏Å ‡∏Ç">‚õΩÔ∏è</button> 
   ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å ‡πÅ‡∏•‡πâ‡∏ß‡∏•‡∏≤‡∏Å‡πÑ‡∏õ‡πÉ‡∏™‡πà ‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß
<div id="div1" ondrop="drop(event)" ondragover="allowDrop(event)"> </div>
</div>
<div>
<div id="div2" ondrop="drop(event)" ondragover="allowDrop(event)"> </div>
<button id="check" onclick="check()" title="‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡∏≥ ‡πÑ‡∏ß‡πâ‡∏ï‡∏£‡∏ß‡∏à">üì©Ô∏è</button>
  ‡∏Å‡∏î ‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡∏≥ ‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÑ‡∏î‡πâ
</div>
<div id="div3" > </div>

</body>
</html>
